(window["webpackJsonparchery-toolbox"]=window["webpackJsonparchery-toolbox"]||[]).push([[0],{48:function(e,t,a){e.exports=a(62)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),i=a.n(o),c=(a(53),a(54),a(23)),s=a(28),l=(a(55),function(){return n.a.createElement("section",{className:"FrontPage"},n.a.createElement("h1",null,"Archery Toolbox"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.c,{to:"/smc"},"Calculate Sight Marks")),n.a.createElement("li",null,"Bow Tuning",n.a.createElement("ul",null,n.a.createElement("li",null,"Alignment"),n.a.createElement("li",null,"Plunger tuning"),n.a.createElement("li",null,"Spine"),n.a.createElement("li",null,"Nocking point"),n.a.createElement("li",null,"Tiller - static and dynamic"),n.a.createElement("li",null,"Centre shot"))),n.a.createElement("li",null,"Outline of some clout tips"),n.a.createElement("li",null,"Bow efficiency")))}),u=a(6),h=a(12),f=(a(61),a(99)),m=a(96),p=a(98),g=a(97),d=a(2);function v(e,t,a){var r=function(e,t,a){for(var r,n,o=0,i=t;++o<1e3;){var c=e(i).isLower;if(n&&c!==n.isLower)return r=Math.max(n.value,i),{lowerBound:Math.min(n.value,i),upperBound:r};n={isLower:c,value:i},c?i+=a:i-=a}throw new Error("Failed to calculate bounds")}(e,t,a);return function(e,t){for(var a=0,r=t.lowerBound,n=t.upperBound;++a<1e3;){var o=(r+n)/2;if(n-r<1e-5)return o;e(o).isLower?r=o:n=o}throw new Error("Failed to refine bounds")}(e,r)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function b(e,t,a){var r=9.81,n=a.m,o=a.A,i=a.Cd,c=a.density,s=a.arrowSpeed,l=Math.sqrt(2*n*r/(i*o*c)),u=s*Math.sin(e),h=s*Math.cos(e),f=l*(u-l*Math.tan(t*r/l))/(l+u*Math.tan(t*r/l)),m=Math.pow(l,2)*h/(Math.pow(l,2)+r*h*t),p=Math.sqrt(Math.pow(m,2)+Math.pow(f,2)),g=Math.pow(l,2)/(2*r)*Math.log((Math.pow(u,2)+Math.pow(l,2))/(Math.pow(f,2)+Math.pow(l,2)));return{x:Math.pow(l,2)/r*Math.log((Math.pow(l,2)+r*h*t)/Math.pow(l,2)),y:g,velocity:p}}function y(e){return function(e,t){e.v;var a=e.s_v,r=e.s_h,n=e.arm,o=e.jaw,i=Math.atan(1*a/r),c=i-Math.atan(o*Math.cos(i)/r),s=t-c;return{alpha:c,phi:s,sightHeight:o-n*Math.tan(s),theta:t}}(e,function(e){for(var t=e.v,a=e.s_v,r=e.s_h,n=(e.arm,e.jaw,{m:.02,A:Math.pow(.01,2),Cd:.1,density:1.225,arrowSpeed:t}),o=Math.atan(1*a/r),i=0,c=o+1*Math.PI/180,s=function(){var e=v(function(e){return{isLower:b(c,e,n).x<r}},.1,.1),t=v(function(t){return{isLower:b(t,e,n).y<a}},o,5*Math.PI/180),i=b(c,e,n).x;if(Math.abs(r-i)<1e3)return{v:t};c=t};++i<1e3;){var l=s();if("object"===typeof l)return l.v}throw new Error("Failed to converge to a shot angle")}(e))}var E=9.81;function D(e){var t=e.v,a=e.s_v,r=e.s_h,n=e.arm,o=e.jaw,i=4*Math.pow(t,4)*(Math.pow(r,2)+Math.pow(a,2)),c=4*Math.pow(r,2)*Math.pow(t,2)*(a*E-Math.pow(t,2)),s=Math.pow(E,2)*Math.pow(r,4),l=Math.sqrt(Math.pow(c,2)-4*i*s),u=[(-c+l)/(2*i),(-c-l)/(2*i)].map(function(e){return Math.acos(Math.sqrt(e))}),h=Math.atan((a-o*Math.cos(u[0]))/r),f=[u[0],-u[0]].reduce(function(e,t){return t>h&&Math.abs(t-h)<Math.abs(e-h)?t:e}),m=f-h,p=o-n*Math.tan(m);return{theta:f,alpha:h,phi:m,sightHeight:p}}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=Array.from(new Set(Array(18).fill(null).map(function(e,t){return 5*(t+1)}).concat(Array(20).fill(null).map(function(e,t){return Math.round(function(e){return.9144*e}(5*(t+1)))})))).concat([165,170]).sort(function(e,t){return e-t});function S(e,t,a){return function(e){var t=e.farDistance,a=e.shortDistance,r=e.farDistanceMark,n=e.shortDistanceMark,o=Object(d.a)(e,["farDistance","shortDistance","farDistanceMark","shortDistanceMark"]);return v(function(e){var i=M({s_v:0,v:e},o),c=y(M({s_h:a},i)).sightHeight,s=y(M({s_h:t},i)).sightHeight;return{isLower:Math.abs(c-s)>Math.abs(r-n)}},50,1)}(k({},e,{Cd:a.Cd},t))}function P(e,t,a,r){var n=r.useDrag,o=function(e){if(e.farDistance&&e.shortDistance&&e.farDistanceMark&&e.shortDistanceMark){var t=parseFloat(e.farDistance),a=parseFloat(e.shortDistance),r=parseFloat(e.farDistanceMark)/100,n=parseFloat(e.shortDistanceMark)/100;if(t&&a&&r&&n)return{farDistance:t,shortDistance:a,farDistanceMark:r,shortDistanceMark:n}}return{farDistance:60,shortDistance:20,farDistanceMark:.055,shortDistanceMark:.004}}(e),i=function(e,t){var a=e.eyeArrowDistance,r=e.faceSightDistance,n=t.arm,o=t.jaw;return{arm:parseFloat(r)||n,jaw:parseFloat(a)||o}}(t,a),c=S(o,i,a),s=k({Cd:a.Cd},i,{v:c});if(n){var l=D(k({},s,{s_v:0,s_h:o.shortDistance})).sightHeight+o.shortDistanceMark;return{sightMarks:j.map(function(e){return{angledMarks:A.map(function(t){var a=e*Math.sin(t),r=e*Math.cos(t);return D(k({},s,{s_v:a,s_h:r}))}).map(function(e){return k({},e,{sightHeight:l-e.sightHeight})}),distance:e}}),arrowSpeed:c}}var u=y(k({},s,{s_v:0,s_h:o.shortDistance})).sightHeight+o.shortDistanceMark;return{sightMarks:j.map(function(e){return{angledMarks:A.map(function(t){var a=Math.sin(t)*e,r=Math.cos(t)*e;return y(k({},s,{s_v:a,s_h:r}))}).map(function(e){return k({},e,{sightHeight:u-e.sightHeight})}),distance:e}}),arrowSpeed:c}}function F(e,t){var a=Object(r.useState)(function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(r){return console.log(r),t}}),n=Object(u.a)(a,2),o=n[0],i=n[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;i(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(r){console.log(r)}}]}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var A=Array(17).fill(null).map(function(e,t){return 5*(t-8)*Math.PI/180}),x=function(e){var t=e.faceSightDistance,a=e.arrowSpeed,r=e.eyeArrowDistance,o=parseFloat(t),i=parseFloat(r),c=[{dist:18,face:40},{dist:30,face:80},{dist:50,face:80},{dist:70,face:122},{dist:90,face:122}].map(function(e){var r=e.face/5/100/e.dist*parseFloat(t)*1e3,n=D({v:a,s_v:0,s_h:e.dist,arm:o,jaw:i}).sightHeight;return _({},e,{hDiff:r,vDiff:1e3*(D({v:a,s_v:e.face/5/100,s_h:e.dist,arm:o,jaw:i}).sightHeight-n)+r})});return n.a.createElement("div",null,n.a.createElement("h3",null,"Sight Marks Sensitivity"),n.a.createElement("p",null,"Relative distances, mm to move per ring"),c.map(function(e){return n.a.createElement("p",{key:e.dist},e.dist,"m, ",e.face,"cm: movement: ",e.hDiff.toFixed(2),"mm horizontally, vertically: ",e.vDiff.toFixed(2),"mm per coloured ring")}))},H=function(e){var t=e.faceSightDistance,a=e.arrowSpeed,r=e.eyeArrowDistance,o=parseFloat(t),i=parseFloat(r),c=[{dist:165,face:15}].map(function(e){var r=e.face/5/e.dist*parseFloat(t)*1e3,n=D({v:a,s_v:0,s_h:e.dist,arm:o,jaw:i}).sightHeight;return _({},e,{hDiff:r,vDiff:1e3*-(D({v:a,s_v:0,s_h:e.dist+e.face/5,arm:o,jaw:i}).sightHeight-n)})}),s=D({v:a,s_v:0,s_h:165,arm:o,jaw:i}).theta,l=165/(a*Math.cos(s));return n.a.createElement("div",null,n.a.createElement("h3",null,"Clout analysis"),n.a.createElement("p",null,"Relative distances, mm to move per ring"),c.map(function(e){return n.a.createElement("p",{key:e.dist},e.dist,"m, ",e.face,"m: movement: ",e.hDiff.toFixed(2),"mm horizontally,"," ",e.vDiff.toFixed(2),"mm vertically per coloured ring")}),n.a.createElement("p",null,"20m lollipop, to match size, you want: 1.8m... gold is 0.36m"),n.a.createElement("p",null,"Lollipop: 15cm above ground in a 7.5cm diameter"),n.a.createElement("p",null,"Time in the air: ",l.toFixed(1),"s"))},N=function(){var e=F("sightMarkInputs",{farDistance:"60",shortDistance:"18",farDistanceMark:"5.5",shortDistanceMark:"0.4"}),t=Object(u.a)(e,2),a=t[0],o=t[1],i=F("equipmentInputs",{faceSightDistance:"0.9",eyeArrowDistance:"0.14"}),c=Object(u.a)(i,2),s=c[0],l=c[1],d={Cd:.1,arm:.89,jaw:.14},v=Object(r.useState)({useDrag:!1,showAngles:!1}),w=Object(u.a)(v,2),M=w[0],b=w[1],y=Object(r.useState)([]),E=Object(u.a)(y,2),D=E[0],O=E[1],k=Object(r.useState)(55.1),j=Object(u.a)(k,2),S=j[0],C=j[1],N=function(){var e=P(a,s,d,M);O(e.sightMarks),C(e.arrowSpeed)};Object(r.useEffect)(N,[]);var I={sightMarks:D,arrowSpeed:S},L=a.farDistance,T=a.farDistanceMark,B=a.shortDistance,W=a.shortDistanceMark,q=s.eyeArrowDistance,R=s.faceSightDistance,U=M.showAngles,J=M.useDrag,z=function(e){return function(t){o(_({},a,Object(h.a)({},e,t.target.value)))}},$=function(e){return function(t){l(_({},s,Object(h.a)({},e,t.target.value)))}},G=function(e){return function(t,a){b(_({},M,Object(h.a)({},e,a)))}},K=U?A.map(function(e){return"".concat((180*e/Math.PI).toFixed(0),"deg")}):["Sight Marks"],Q=D&&!U?D.map(function(e){return _({},e,{angledMarks:[e.angledMarks[8]]})}):D||[];return n.a.createElement("section",{className:"SightMarkCalculator"},n.a.createElement("h2",null,"Sight Marks Calculator"),n.a.createElement("div",{className:"arrowSpeedCalc"},n.a.createElement("h3",null,"Arrow Speed parameters"),n.a.createElement("div",{className:"SightMarkCalculator-row"},n.a.createElement(g.a,{placeholder:"Use a long distance sight mark",label:"Far distance (m)",value:L,onChange:z("farDistance")}),n.a.createElement(g.a,{placeholder:"This is normally found on your sight",label:"Far Sight Mark (cm)",value:T,onChange:z("farDistanceMark")})),n.a.createElement("div",{className:"SightMarkCalculator-row"},n.a.createElement(g.a,{placeholder:"Use a short distance sight mark",label:"Short distance (m)",value:B,onChange:z("shortDistance")}),n.a.createElement(g.a,{placeholder:"This is normally found on your sight",label:"Short Sight Mark (cm)",value:W,onChange:z("shortDistanceMark")}))),n.a.createElement("div",{className:"SightMarkCalculator-row"},n.a.createElement(g.a,{placeholder:"This is about your draw length + sight length",label:"Face to sight distance (m)",value:R,onChange:$("faceSightDistance")}),n.a.createElement(g.a,{placeholder:"This is the distance from your nock to your eye",label:"Eye to Arrow distance (m)",value:q,onChange:$("eyeArrowDistance")})),n.a.createElement("div",{style:{width:"250px",margin:"10px 0"}},n.a.createElement(f.a,{control:n.a.createElement(p.a,{checked:J,onChange:G("useDrag")}),label:"Include drag"})),n.a.createElement("div",{style:{width:"250px",margin:"10px 0"}},n.a.createElement(f.a,{control:n.a.createElement(p.a,{checked:U,onChange:G("showAngles")}),label:"Show angles"})),n.a.createElement(m.a,{variant:"contained",color:"primary",onClick:N},"Calculate Sight Marks"),S&&n.a.createElement("p",null,"Arrow Speed: ",S.toFixed(1),"m/s"),n.a.createElement(x,Object.assign({},s,I)),n.a.createElement(H,Object.assign({},s,I)),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null),K.map(function(e){return n.a.createElement("th",{key:e},e)}))),n.a.createElement("tbody",null,Q.map(function(e){return n.a.createElement("tr",{key:e.distance},n.a.createElement("th",null,e.distance,"m (",(t=e.distance,1.09361*t).toFixed(1),"y)"),e.angledMarks.map(function(t,a){var r=(100*t.sightHeight).toFixed(1),o=t.sightHeight-e.angledMarks[U?8:0].sightHeight;return n.a.createElement("td",{key:"".concat(e.distance,"-").concat(a)},r," (",o>0?"+":"",(100*o).toFixed(1),")")}));var t}))))},I=function(){return n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/",component:l}),n.a.createElement(c.a,{path:"/smc",component:N}))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(n.a.createElement(function(){return n.a.createElement(s.b,null,n.a.createElement(I,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");L?(!function(e,t){fetch(e).then(function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(t,e)})}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.d94f07df.chunk.js.map