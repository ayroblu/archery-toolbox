(window["webpackJsonparchery-toolbox"]=window["webpackJsonparchery-toolbox"]||[]).push([[0],{48:function(e,t,a){e.exports=a(62)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(53),a(54),a(23)),s=a(28),l=(a(55),function(){return r.a.createElement("section",{className:"FrontPage"},r.a.createElement("h1",null,"Archery Toolbox"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.c,{to:"/smc"},"Calculate Sight Marks")),r.a.createElement("li",null,"Bow Tuning",r.a.createElement("ul",null,r.a.createElement("li",null,"Alignment"),r.a.createElement("li",null,"Plunger tuning"),r.a.createElement("li",null,"Spine"),r.a.createElement("li",null,"Nocking point"),r.a.createElement("li",null,"Tiller - static and dynamic"),r.a.createElement("li",null,"Centre shot"))),r.a.createElement("li",null,"Outline of some clout tips"),r.a.createElement("li",null,"Bow efficiency")))}),u=a(6),h=a(13),f=a(97),m=a(96),p=a(98),d=a(2);function g(e,t,a){var n=function(e,t,a){for(var n,r,o=0,i=t;++o<1e3;){var c=e(i).isLower;if(r&&c!==r.isLower)return n=Math.max(r.value,i),{lowerBound:Math.min(r.value,i),upperBound:n};r={isLower:c,value:i},c?i+=a:i-=a}throw new Error("Failed to calculate bounds")}(e,t,a);return function(e,t){for(var a=0,n=t.lowerBound,r=t.upperBound;++a<1e3;){var o=(n+r)/2;if(r-n<1e-5)return o;e(o).isLower?n=o:r=o}throw new Error("Failed to refine bounds")}(e,n)}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function M(e,t,a){var n=9.81,r=a.m,o=a.A,i=a.Cd,c=a.density,s=a.arrowSpeed,l=Math.sqrt(2*r*n/(i*o*c)),u=s*Math.sin(e),h=s*Math.cos(e),f=l*(u-l*Math.tan(t*n/l))/(l+u*Math.tan(t*n/l)),m=Math.pow(l,2)*h/(Math.pow(l,2)+n*h*t),p=Math.sqrt(Math.pow(m,2)+Math.pow(f,2)),d=Math.pow(l,2)/(2*n)*Math.log((Math.pow(u,2)+Math.pow(l,2))/(Math.pow(f,2)+Math.pow(l,2)));return{x:Math.pow(l,2)/n*Math.log((Math.pow(l,2)+n*h*t)/Math.pow(l,2)),y:d,velocity:p}}function b(e){return function(e,t){e.v;var a=e.s_v,n=e.s_h,r=e.arm,o=e.jaw,i=Math.atan(1*a/n),c=i-Math.atan(o*Math.cos(i)/n),s=t-c;return{alpha:c,phi:s,sightHeight:o-r*Math.tan(s),theta:t}}(e,function(e){for(var t=e.v,a=e.s_v,n=e.s_h,r=(e.arm,e.jaw,{m:.02,A:Math.pow(.01,2),Cd:.1,density:1.225,arrowSpeed:t}),o=Math.atan(1*a/n),i=0,c=o+1*Math.PI/180,s=function(){var e=g(function(e){return{isLower:M(c,e,r).x<n}},.1,.1),t=g(function(t){return{isLower:M(t,e,r).y<a}},o,5*Math.PI/180),i=M(c,e,r).x;if(Math.abs(n-i)<1e3)return{v:t};c=t};++i<1e3;){var l=s();if("object"===typeof l)return l.v}throw new Error("Failed to converge to a shot angle")}(e))}var y=9.81;function E(e){var t=e.v,a=e.s_v,n=e.s_h,r=e.arm,o=e.jaw,i=4*Math.pow(t,4)*(Math.pow(n,2)+Math.pow(a,2)),c=4*Math.pow(n,2)*Math.pow(t,2)*(a*y-Math.pow(t,2)),s=Math.pow(y,2)*Math.pow(n,4),l=Math.sqrt(Math.pow(c,2)-4*i*s),u=[(-c+l)/(2*i),(-c-l)/(2*i)].map(function(e){return Math.acos(Math.sqrt(e))}),h=Math.atan((a-o*Math.cos(u[0]))/n),f=[u[0],-u[0]].reduce(function(e,t){return t>h&&Math.abs(t-h)<Math.abs(e-h)?t:e}),m=f-h,p=o-r*Math.tan(m);return{theta:f,alpha:h,phi:m,sightHeight:p}}a(61);var D=a(99);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O=Array.from(new Set(Array(18).fill(null).map(function(e,t){return 5*(t+1)}).concat(Array(20).fill(null).map(function(e,t){return Math.round(function(e){return.9144*e}(5*(t+1)))})))).concat([165,170]).sort(function(e,t){return e-t}),S=Array(17).fill(null).map(function(e,t){return 5*(t-8)*Math.PI/180});function C(e,t,a){return function(e){var t=e.farDistance,a=e.shortDistance,n=e.farDistanceMark,r=e.shortDistanceMark,o=Object(d.a)(e,["farDistance","shortDistance","farDistanceMark","shortDistanceMark"]);return g(function(e){var i=w({s_v:0,v:e},o),c=b(w({s_h:a},i)).sightHeight,s=b(w({s_h:t},i)).sightHeight;return{isLower:Math.abs(c-s)>Math.abs(n-r)}},50,1)}(j({},e,{Cd:a.Cd},t))}function F(e,t,a,n){var r=n.useDrag,o=function(e){if(!(e.farDistance&&e.shortDistance&&e.farDistanceMark&&e.shortDistanceMark)){var t=parseFloat(e.farDistance),a=parseFloat(e.shortDistance),n=parseFloat(e.farDistanceMark)/100,r=parseFloat(e.shortDistanceMark)/100;if(t&&a&&n&&r)return{farDistance:t,shortDistance:a,farDistanceMark:n,shortDistanceMark:r}}return{farDistance:60,shortDistance:20,farDistanceMark:.055,shortDistanceMark:.004}}(e),i=function(e,t){var a=e.eyeArrowDistance,n=e.faceSightDistance,r=t.arm,o=t.jaw;return{arm:parseFloat(n)||r,jaw:parseFloat(a)||o}}(t,a),c=C(o,i,a),s=j({Cd:a.Cd},i,{v:c});if(r){var l=E(j({},s,{s_v:0,s_h:o.shortDistance})).sightHeight+o.shortDistanceMark;return{sightMarks:O.map(function(e){return{angledMarks:S.map(function(t){var a=e*Math.sin(t),n=e*Math.cos(t);return E(j({},s,{s_v:a,s_h:n}))}).map(function(e){return j({},e,{sightHeight:l-e.sightHeight})}),distance:e}}),arrowSpeed:c}}var u=b(j({},s,{s_v:0,s_h:o.shortDistance})).sightHeight+o.shortDistanceMark;return{sightMarks:O.map(function(e){return{angledMarks:S.map(function(t){var a=Math.sin(t)*e,n=Math.cos(t)*e;return b(j({},s,{s_v:a,s_h:n}))}).map(function(e){return j({},e,{sightHeight:u-e.sightHeight})}),distance:e}}),arrowSpeed:c}}var _=function(e){var t=e.faceSightDistance,a=e.arrowSpeed,n=e.eyeArrowDistance,o=parseFloat(t),i=parseFloat(n),c=[{dist:18,face:40},{dist:30,face:80},{dist:50,face:80},{dist:70,face:122},{dist:90,face:122}].map(function(e){var n=e.face/5/100/e.dist*parseFloat(t)*1e3,r=E({v:a,s_v:0,s_h:e.dist,arm:o,jaw:i}).sightHeight;return j({},e,{hDiff:n,vDiff:1e3*(E({v:a,s_v:e.face/5/100,s_h:e.dist,arm:o,jaw:i}).sightHeight-r)+n})});return r.a.createElement("div",null,r.a.createElement("h3",null,"Sight Marks Sensitivity"),r.a.createElement("p",null,"Relative distances, mm to move per ring"),c.map(function(e){return r.a.createElement("p",{key:e.dist},e.dist,"m, ",e.face,"cm: movement: ",e.hDiff.toFixed(2),"mm horizontally, vertically: ",e.vDiff.toFixed(2),"mm per coloured ring")}))},A=function(e){var t=e.faceSightDistance,a=e.arrowSpeed,n=e.eyeArrowDistance,o=parseFloat(t),i=parseFloat(n),c=[{dist:165,face:15}].map(function(e){var n=e.face/5/e.dist*parseFloat(t)*1e3,r=E({v:a,s_v:0,s_h:e.dist,arm:o,jaw:i}).sightHeight;return j({},e,{hDiff:n,vDiff:1e3*-(E({v:a,s_v:0,s_h:e.dist+e.face/5,arm:o,jaw:i}).sightHeight-r)})}),s=E({v:a,s_v:0,s_h:165,arm:o,jaw:i}).theta,l=165/(a*Math.cos(s));return r.a.createElement("div",null,r.a.createElement("h3",null,"Clout analysis"),r.a.createElement("p",null,"Relative distances, mm to move per ring"),c.map(function(e){return r.a.createElement("p",{key:e.dist},e.dist,"m, ",e.face,"m: movement: ",e.hDiff.toFixed(2),"mm horizontally,"," ",e.vDiff.toFixed(2),"mm vertically per coloured ring")}),r.a.createElement("p",null,"20m lollipop, to match size, you want: 1.8m... gold is 0.36m"),r.a.createElement("p",null,"Lollipop: 15cm above ground in a 7.5cm diameter"),r.a.createElement("p",null,"Time in the air: ",l.toFixed(1),"s"))},x=function(){var e=Object(n.useState)({farDistance:"60",shortDistance:"18",farDistanceMark:"5.5",shortDistanceMark:"0.4"}),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)({faceSightDistance:"0.9",eyeArrowDistance:"0.14"}),c=Object(u.a)(i,2),s=c[0],l=c[1],d={Cd:.1,arm:.89,jaw:.14},g=Object(n.useState)({useDrag:!1,showAngles:!1}),v=Object(u.a)(g,2),w=v[0],M=v[1],b=Object(n.useState)([]),y=Object(u.a)(b,2),E=y[0],k=y[1],O=Object(n.useState)(55.1),C=Object(u.a)(O,2),x=C[0],P=C[1],H=function(){var e=F(a,s,d,w);k(e.sightMarks),P(e.arrowSpeed)};Object(n.useEffect)(H,[]);var L={sightMarks:E,arrowSpeed:x},T=a.farDistance,N=a.farDistanceMark,B=a.shortDistance,W=a.shortDistanceMark,I=s.eyeArrowDistance,R=s.faceSightDistance,U=w.showAngles,q=w.useDrag,z=function(e){return function(t){o(j({},a,Object(h.a)({},e,t.target.value)))}},J=function(e){return function(t){l(j({},s,Object(h.a)({},e,t.target.value)))}},$=function(e){return function(t,a){M(j({},w,Object(h.a)({},e,a)))}},G=U?S.map(function(e){return"".concat((180*e/Math.PI).toFixed(0),"deg")}):["Sight Marks"],K=E&&!U?E.map(function(e){return j({},e,{angledMarks:[e.angledMarks[8]]})}):E||[];return r.a.createElement("section",{className:"SightMarkCalculator"},r.a.createElement("h2",null,"Sight Marks Calculator"),r.a.createElement("div",{className:"arrowSpeedCalc"},r.a.createElement("h3",null,"Arrow Speed parameters"),r.a.createElement("div",{className:"SightMarkCalculator-row"},r.a.createElement(f.a,{placeholder:"Use a long distance sight mark",label:"Far distance (m)",value:T,onChange:z("farDistance")}),r.a.createElement(f.a,{placeholder:"This is normally found on your sight",label:"Far Sight Mark (cm)",value:N,onChange:z("farDistanceMark")})),r.a.createElement("div",{className:"SightMarkCalculator-row"},r.a.createElement(f.a,{placeholder:"Use a short distance sight mark",label:"Short distance (m)",value:B,onChange:z("shortDistance")}),r.a.createElement(f.a,{placeholder:"This is normally found on your sight",label:"Short Sight Mark (cm)",value:W,onChange:z("shortDistanceMark")}))),r.a.createElement("div",{className:"SightMarkCalculator-row"},r.a.createElement(f.a,{placeholder:"This is about your draw length + sight length",label:"Face to sight distance (m)",value:R,onChange:J("faceSightDistance")}),r.a.createElement(f.a,{placeholder:"This is the distance from your nock to your eye",label:"Eye to Arrow distance (m)",value:I,onChange:J("eyeArrowDistance")})),r.a.createElement("div",{style:{width:"250px",margin:"10px 0"}},r.a.createElement(D.a,{control:r.a.createElement(p.a,{checked:q,onChange:$("useDrag")}),label:"Include drag"})),r.a.createElement("div",{style:{width:"250px",margin:"10px 0"}},r.a.createElement(D.a,{control:r.a.createElement(p.a,{checked:U,onChange:$("showAngles")}),label:"Show angles"})),r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:H},"Calculate Sight Marks"),x&&r.a.createElement("p",null,"Arrow Speed: ",x.toFixed(1),"m/s"),r.a.createElement(_,Object.assign({},s,L)),r.a.createElement(A,Object.assign({},s,L)),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),G.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,K.map(function(e){return r.a.createElement("tr",{key:e.distance},r.a.createElement("th",null,e.distance,"m (",(t=e.distance,1.09361*t).toFixed(1),"y)"),e.angledMarks.map(function(t,a){var n=(100*t.sightHeight).toFixed(1),o=t.sightHeight-e.angledMarks[U?8:0].sightHeight;return r.a.createElement("td",{key:"".concat(e.distance,"-").concat(a)},n," (",o>0?"+":"",(100*o).toFixed(1),")")}));var t}))))},P=function(){return r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:l}),r.a.createElement(c.a,{path:"/smc",component:x}))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(function(){return r.a.createElement(s.b,null,r.a.createElement(P,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");H?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):L(t,e)})}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.92ba70a9.chunk.js.map